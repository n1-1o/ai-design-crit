<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AI Design Crit</title>
  <style>
    body {
      font-family: Inter, system-ui, sans-serif;
      background: #0f0f0f;
      color: #fff;
      padding: 32px;
      max-width: 720px;
      margin: auto;
    }
    input, textarea, select, button {
      width: 100%;
      margin-top: 12px;
      padding: 12px;
      background: #1a1a1a;
      color: #fff;
      border: 1px solid #333;
      border-radius: 6px;
    }
    button {
      background: #6cf;
      color: #000;
      font-weight: 600;
      cursor: pointer;
    }
    .cards button {
      margin-top: 8px;
      background: #222;
      color: #ccc;
    }
  </style>
</head>
<body>

<h1>AI Design Critique</h1>

<textarea id="goal" placeholder="What should the user successfully do on this screen?"></textarea>
<input id="image" placeholder="Paste image URL" />

<div class="cards">
  <p>Refine critique (optional)</p>
  <button onclick="setLens('ux')">ðŸ§­ UX Clarity</button>
  <button onclick="setLens('conversion')">ðŸŽ¯ Conversion</button>
  <button onclick="setLens('portfolio')">ðŸŽ¨ Portfolio</button>
  <button onclick="setLens('senior')">âš¡ Brutal Senior</button>
  <button onclick="setLens('roast')">ðŸ”¥ Roast</button>
</div>

<button onclick="submitCrit()">Get critique</button>

<pre id="result"></pre>

<script>
let lens = "ux";

function setLens(l) {
  lens = l;
}

async function submitCrit() {
  const res = await fetch("/critique", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      user_goal: document.getElementById("goal").value,
      image_url: document.getElementById("image").value,
      lens
    })
  });
  document.getElementById("result").textContent = await res.text();
}
</script>

</body>
</html>
